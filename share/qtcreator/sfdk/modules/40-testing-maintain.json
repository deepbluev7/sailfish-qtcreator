{
    "version": 4,
    "domain": "testing",
    "trBrief": "Testing software",

    "trDescription": "=== Working With Devices\n\nAvailable devices can be listed with the 'device list' command. Additional devices may be defined using %{IdeVariant} (Qt Creator). Devices corresponding to available %{OsVariant} emulators are added automatically. Emulators can be managed and controlled using the 'emulator' command. Packages can be deployed to a device with the 'deploy' command. The device to deploy to is determined by the 'device' configuration option.\n\nOn Windows, under the MSYS2 environment (this is the case of using sfdk under Git Bash), command line arguments to sfdk are subject to pathname conversion realized on MSYS2 side (applies to all native Windows programs executed from the MSYS2 environment). All arguments or their portions that resemble POSIX absolute paths are converted to corresponding Windows paths which may or may not exist. This is often unwanted for sfdk use. E.g., when a path on a remove device is passed as an argument, it is incorrectly converted to a local Windows path:\n\n    $ sfdk device exec ls -l /usr/bin/myapp\n    ls: cannot access C:/Program Files/Git/usr/bin/myapp: \\\n        No such file or directory\n\nIt is possible to selectively disable pathname conversion with the help of the 'MSYS2_ARG_CONV_EXCL' environment variable. It is also possible to work it around by using two leading slashes in the POSIX absolute path, imitating an UNC-like path which is not subject to pathname conversion.\n\n    $ export MSYS2_ARG_CONV_EXCL='*'\n    $ sfdk device exec ls -l /usr/bin/myapp\n    -rwxr-xr-x 1 root root 104648 Oct 13 23:21 /usr/bin/myapp\n    $ unset MSYS2_ARG_CONV_EXCL\n    $ sfdk device exec ls -l //usr/bin/myapp\n    -rwxr-xr-x 1 root root 104648 Oct 13 23:21 //usr/bin/myapp\n\nCheck MSYS2 documentation for more information.",

    "worker":
    {
        "type": "builtin",
        "version": 1
    },

    "commands":
    [
        {
            "name": "device",
            "trSynopsis": "list\nexec [<name-or-idx>] [-t] [--] [<command> [<arg>...]]",
            "trBrief": "Maintain and control registered devices",
            "configOptions": ["device"],
            "hooks": ["prepare-device"],
            "dynamicSubcommands": ["exec"],
            "trDescription": "Registered devices can be listed with the 'list' command.\n\nThe 'exec' command allows executing an arbitrary <command> on the device specified with name or index as reported by the 'list' command. If no <name-or-idx> is passed, the device selected with the 'device' configuration option will be used. If no <command> is specified, an interactive shell is executed. The '-t' option follows the semantics of the '-t' option of ssh(1)."
        },
        {
            "name": "emulator",
            "trSynopsis": "list [-a|--available]\n{start|stop|status} [<name>]\nset [<name>] [--] <property>=<value>...\nshow [<name>]\nexec [<name>] [-t] [--] [<command> [<arg>...]]\ninstall <name>\nremove <name>\ndevice-model-list\ndevice-model-show <model>",
            "trBrief": "Maintain and control emulators",
            "dynamicSubcommands": ["exec"],
            "trDescription": "The 'list' command lists the installed emulators. If the '--available' option is used, emulators available for installation from SDK repositories are listed, including those already installed. The status flags that may appear in the output are described further below.\n\nSome commands accept an optional <name> argument. If this is omitted, the default emulator is assumed as indicated by the 'list' command.\n\nEmulators available from SDK repositories may be installed using the 'install' command. Installed emulators may be removed using the 'remove' command. The 'install' and 'remove' commands accept <name> as reported by the 'list' command with '--available' option used (in case it differs in the view provided without '--available').\n\nThe 'start' and 'stop' commands allow to control the emulator virtual machine conveniently. Starting an emulator explicitly is usually not required - commands that need the emulator running will ensure it is running. The 'status' command prints status information.\n\nEmulator properties can be set with the 'set' command and queried with the 'show' command. Known properties are described further below.\n\nThe 'exec' command allows executing an arbitrary <command> inside the emulator. If no <command> is specified, an interactive shell is executed. The '-t' option follows the semantics of the '-t' option of ssh(1).\n\nEmulators may emulate various hardware devices in terms of their display properties. Other than that the set of emulated hardware features is fixed, including the CPU architecture which is always i486. Available device models can be queried with the 'device-model-list' command. Detailed information about particular device model can be retrieved with the 'device-model-show' command. The active device model of an emulator is controlled by the 'device-model' property.\n\n\nStatus flags:\n\navailable::\n+\n--\nEmulator available from SDK repositories, available for installation using the 'install' command.\n--\n\ninstalled::\n+\n--\nEmulator available from SDK repositories, currently installed\n--\n\nsdk-provided::\n+\n--\nSynonym for 'installed'. Used in views where 'user-defined' may appear.\n--\n\nuser-defined::\n+\n--\nEmulator installed using other method. sfdk does not currently provide a way to achieve this, other tools may.\n--\n\nlatest::\n+\n--\nEmulator available from SDK repositories under the symbolic (floating) version 'latest'; subject to automatic upgrade between SDK releases.\n--\n\nearly-access::\n+\n--\nEmulator available from SDK repositories under the symbolic (floating) version 'early-access'; subject to automatic upgrade between SDK releases.\n--\n\ndefault::\n+\n--\nEmulator that will be used when the optional <name> argument is omitted.\n--\n\n\nEmulator properties:\n\ndevice-model <name>::\n+\n--\nThe device model to emulate. Available device models can be queried with the 'device-model-list' command.\n--\n\norientation portrait|landscape::\n+\n--\nDisplay orientation.\n--\n\ndownscale <boolean>::\n+\n--\nWhen enabled, the display resolution will be downscaled by the factor of 2.\n--\n\nvm.cpu-count <number>::\n+\n--\nThe number of virtual CPUs inside the emulator virtual machine. The maximum is limited by the number of CPUs available on the host.\n--\n\nvm.memory-size <megabytes>::\n+\n--\nThe amount of memory (RAM) available to the emulator virtual machine. The maximum is limited by the size of the physical memory available on the host.\n--\n\nvm.storage-size <megabytes>::\n+\n--\nThe amount of storage (disk) space available to the emulator virtual machine. Storage size can only grow; shrinking is not possible.\n--"
        }
    ],

    "options":
    [
        {
            "name": "device",
            "trArgument": "<name>",
            "trDescription": "Select the device to use with commands that need to access a device. Registered devices can be listed with the 'device list' command.",
            "validator": "module.validateDeviceName"
        }
    ],

    "hooks":
    [
        {
            "name": "prepare-device",
            "trSynopsis": "<name>",
            "trDescription": "This hook is invoked prior to accessing a device."
        }
    ]
}
